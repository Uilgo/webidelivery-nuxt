<script setup lang="ts">
/**
 * 游늷 P치gina do Card치pio P칰blico
 *
 * P치gina principal do card치pio p칰blico acess칤vel via /{slug}.
 * Exibe o card치pio completo do estabelecimento.
 */

// Importar a p치gina da feature
import CardapioPublicoPage from "~/features/public/cardapio/pages/CardapioPublicoPage.vue";
import { useCardapioPublico } from "~/features/public/cardapio/composables/useCardapioPublico";

// Obter o slug da rota
const route = useRoute();
const slug = route.params.slug as string;

// Carregar dados do estabelecimento para SEO
const { estabelecimento } = useCardapioPublico(slug);

// Definir meta da p치gina
definePageMeta({
	layout: "public",
	title: "Card치pio",
});

/**
 * SEO din칙mico baseado no estabelecimento
 */
useSeoMeta({
	title: () => estabelecimento.value?.nome ?? "Card치pio",
	description: () => estabelecimento.value?.descricao ?? "Veja nosso card치pio e fa칞a seu pedido",
	ogTitle: () => estabelecimento.value?.nome ?? "Card치pio",
	ogDescription: () => estabelecimento.value?.descricao ?? "Veja nosso card치pio e fa칞a seu pedido",
	ogImage: () => estabelecimento.value?.capa ?? estabelecimento.value?.logo ?? undefined,
});
</script>

<template>
	<CardapioPublicoPage :slug="slug" />
</template>
